<script>

Set.prototype.equals = function (that) {
    if (this === that) {
        return true;
    }
    if (!(that instanceof Set)) {
        return false;
    }
    if (this.size() != that.size()) {
        return false;
    }
    // 检查两个集合中的元素是否完全一样
    try {
        this.foreach(function (v) {
            if (!that.contains(v)) { // 当有元素在that中不存在
                throw false;    // 则跑异常终止foreach
            }
        });
        return true;    
    } catch (x) {
        if (x === false) {
            return false;
        }
        throw x;
    }
};

</script>






